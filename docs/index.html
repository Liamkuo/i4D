<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <meta name="description" content="Decorate3D: Text-Driven High-Quality Texture Generation for Mesh Decoration in the Wild">
    <meta name="keywords" content="Decorate3D, diffusion, 3D textures, 3D contents, generation">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>i4D</title>

    <!-- Global site tag (gtag.js) - Google Analytics -->
    <link href="https://fonts.googleapis.com/css?family=Google+Sans|Noto+Sans|Castoro" rel="stylesheet">

    <link rel="stylesheet" href="./static/css/bulma.min.css">
    <link rel="stylesheet" href="./static/css/bulma-carousel.min.css">
    <link rel="stylesheet" href="./static/css/bulma-slider.min.css">
    <link rel="stylesheet" href="./static/css/fontawesome.all.min.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/jpswalsh/academicons@1/css/academicons.min.css">
    <link rel="stylesheet" href="./static/css/index.css">

    <style>
		.render_wrapper {
			position: relative;
            height: 300px;
         }
        .render_wrapper_small {
			position: relative;
            height: 200px;
         }
		.render_div {
			position: absolute;
			top: 0;
			left: 0;
		}

        #interpolation-image-wrapper-car{
            text-align: center;
        }
        #interpolation-image-wrapper-chair{
            text-align: center;
        }
        .nested-columns {
            margin-bottom: 0 !important;
        }
    </style>

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script defer src="./static/js/fontawesome.all.min.js"></script>
    <script src="./static/js/bulma-carousel.min.js"></script>
    <script src="./static/js/bulma-slider.min.js"></script>
    <script src="./static/js/index.js"></script>
</head>

<body>

    <section class="hero">
        <div class="hero-body">
            <div class="container is-max-desktop">
              
                <div class="columns is-centered">
                      <div class="column has-text-centered">
                        <img src="./static/my_logo.png" width="10%" /> 
                        <h1 class="title is-2 publication-title"> i4D Case Exhibition</h1>
                      </div>
                </div>
            </div>
        </div>
    </section>

    <!-- <section class="hero teaser">
        <div class="container is-max-desktop">
            <div class="hero-body">
                <img src="./static/my_logo.png" width="20%" />
            </div>
        </div>
    </section> -->
    <section class="section">
        <div class="container is-max-desktop">
            <!-- Abstract. -->
            <!-- 
            <div class="columns is-centered has-text-centered">
                <div class="column is-four-fifths">
                    <h2 class="title is-3">Abstract</h2>
                    <div class="content has-text-justified">
                        <p>
                            We present Text2Tex, a novel method for generating high-quality textures for 3D meshes from the given text prompts.
                            Our method incorporates inpainting into a pre-trained depth-aware image diffusion model to progressively synthesize high resolution partial textures from multiple viewpoints. 
                        </p>

                        <p>
                            To avoid accumulating inconsistent and stretched artifacts across views, we dynamically segment the rendered view into a generation mask, which represents the generation status of each visible texel. 
                            This partitioned view representation guides the depth-aware inpainting model to generate and update partial textures for the corresponding regions. 
                        </p>
                        
                        <p>
                            Furthermore, we propose an automatic view sequence generation scheme to determine the next best view for updating the partial texture.
                        </p>
                        
                        <p>
                            Extensive experiments demonstrate that our method significantly outperforms the existing text-driven approaches and GAN-based methods.
                        </p>
                    </div>
                </div>
            </div>
             -->
            <!-- Paper video. -->
            <div class="columns is-centered has-text-centered">
                <div class="column is-four-fifths">
                  <h2 class="title is-4"> Bullet Time Photos</h2>
                    <div class="column has-text-centered">
                      <img src="./static/teaser/bullet.jpg" width="100%" /> 
                      
                    </div>
                    <!-- <div class="publication-video">
                        <iframe width="560" height="315" src="https://www.youtube.com/embed/I9wlprYROyY?si=AVB0YbU-8cuPauAL" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen></iframe>
                    </div> -->
                </div>
            </div>
            <!--/ Paper video. -->
        </div>
    </section>

    <section class="section hero">
        <div class="container is-max-desktop">
          <h2 class="title is-4">Our 4D Video Demos (Lookat from Any Views)</h2>
    
            <div class="columns is-centered has-text-centered">
                <div class="column is-full"  style="text-align:center">
                  <div class="content" >
                    <div class="publication-video">
                        <iframe width="560" height="315" src="https://www.youtube.com/embed/I9wlprYROyY?si=AVB0YbU-8cuPauAL&loop=1" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen></iframe>
                    </div>
                    <h4 class="subtitle has-text-centered">
                    4D Case #1 
                      </h4>
                  </div>
                </div> 
  
                <div class="column is-full"  style="text-align:center">
                    <div class="content" >
                      <div class="publication-video" >
                        <iframe width="560" height="315" src="https://www.youtube.com/embed/9lJ-jqQHAso?si=bt2srJPivaPrOKOT&loop=1" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen></iframe>
                    </div>
                    <h4 class="subtitle has-text-centered">
                    4D Case #2
                      </h4>
                    </div>
                  </div>
            </div>
    
    </section>

    <section class="section hero">
      <div class="container is-max-desktop">
        <h2 class="title is-4">Our 3D Video Demos (Lookat from Any Views)</h2>
  
        <div class="columns is-centered has-text-centered">
          <div class="column is-full"  style="text-align:center">
            <div class="content" >
              <div class="publication-video">
                <iframe width="560" height="315" src="https://www.youtube.com/embed/Mxthn4QMMWU" title="Splattering Stairs #3dgaussian #trendingshorts #hikevibes #3dgs #garden" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen></iframe>              </div>
              <h4 class="subtitle has-text-centered">
              3D Case #1 
                </h4>
            </div>
          </div> 

          <div class="column is-full"  style="text-align:center">
            <div class="content" >
              <div class="publication-video">
                <iframe width="560" height="315" src="https://www.youtube.com/embed/7JqpiqaVdZ8?si=1CIw1MSMHX3no--Q&amp;controls=0" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen></iframe>              </div>
              <h4 class="subtitle has-text-centered">
              3D Case #2
                </h4>
            </div>
          </div> 
        
      </div>


      <div class="columns is-centered has-text-centered">
        <div class="column is-full"  style="text-align:center">
          <div class="content" >
            <div class="publication-video">
              <iframe width="346" height="614" src="https://www.youtube.com/embed/7zmeYs-9Cfo" title="Magic elephant with 3D Gaussian #trendingshorts #aigc #nerf #garden" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen></iframe>
            </div>
            <h4 class="subtitle has-text-centered">
            3D Case #3
              </h4>
          </div>
        </div> 

        <div class="column is-full"  style="text-align:center">
          <div class="content" >
            <div class="publication-video">
            <iframe width="346" height="614" src="https://www.youtube.com/embed/CP1I1h0qkSQ" title="Magic trail #trendingshorts #nature #aigc #flower" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen></iframe>
            </div>
            <h4 class="subtitle has-text-centered">
            3D Case #4
            </h4>
          </div>
        </div> 

    </div> 


      <div class="columns is-centered has-text-centered">
        <div class="column is-full"  style="text-align:center">
          <div class="content" >
            <div class="publication-video">
                <iframe width="560" height="315" src="https://www.youtube.com/embed/KSQGiNJbG3U?si=elNAZtxgQE-Dx0EE&amp;controls=0&loop=1" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen></iframe>
            </div>
            <h4 class="subtitle has-text-centered">
            3D Case #5
              </h4>
          </div>
        </div> 

        <div class="column is-full"  style="text-align:center">
          <div class="content" >
            <div class="publication-video">
              <iframe width="560" height="315" src="https://www.youtube.com/embed/q69HJeXstgc?si=gkF9AMxrIsV6IDx5&amp;controls=0&loop=1" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen></iframe>              </div>
            <h4 class="subtitle has-text-centered">
            3D Case #6
              </h4>
          </div>
        </div> 

      </div>



      
      <div class="columns is-centered has-text-centered">
        <div class="column is-full"  style="text-align:center">
          <div class="content" >
            <div class="publication-video">
              <iframe width="560" height="315" src="https://www.youtube.com/embed/_nf-qR5b0dI?si=NH50-AgS0XBz5_6o&loop=1" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen></iframe>
            </div>
            <h4 class="subtitle has-text-centered">
            3D Case #7
              </h4>
          </div>
        </div> 

        <div class="column is-full"  style="text-align:center">
          <div class="content" >
            <div class="publication-video">
              <iframe width="346" height="614" src="https://www.youtube.com/embed/KmOmlU8Hji8" title="Fallen tree #trendingshorts #hikevibes #dayhiking" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen></iframe>
            </div>
            <h4 class="subtitle has-text-centered">
            3D Case #8
              </h4>
          </div>
        </div> 

      </div>


      <div class="columns is-centered has-text-centered">
        <div class="column is-full"  style="text-align:center">
          <div class="content" >
            <div class="publication-video">
              <iframe width="346" height="614" src="https://www.youtube.com/embed/lXK3feDjbmw" title="Spiral garden! My favourite #trendingshorts #hikevibes #dayhiking" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen></iframe>
            </div>
            <h4 class="subtitle has-text-centered">
            3D Case #9
              </h4>
          </div>
        </div> 

        <div class="column is-full"  style="text-align:center">
          <div class="content" >
            <div class="publication-video">
              <iframe width="560" height="315" src="https://www.youtube.com/embed/0moktOxpQT8?si=JyW2Y1oWFiK4lxzv&amp;controls=0" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen></iframe>
            </div>
            <h4 class="subtitle has-text-centered">
            3D Case #10
              </h4>
          </div>
        </div> 

      </div>

      
      
      
    </div>


  </section>
  
    <!-- <section class="section" id="BibTeX">
        <div class="container is-max-desktop content">
            <h2 class="title">Citation</h2>
            <pre>
<code>
@inproceedings{guo2023decorate3d,
    title={Decorate3D: Text-Driven High-Quality Texture Generation for Mesh Decoration in the Wild},
    author={Guo, Yanhui and Zuo, Xinxin and Dai, Peng and Lu, Juwei and Wu, Xiaolin and Cheng, Li and Yan, Youliang and Xu, Songcen and Wu, Xiaofei},
    booktitle={Thirty-seventh Conference on Neural Information Processing Systems (NeurIPS)},
    year={2023},
}
</code>

</pre>
        </div>
    </section> -->


    <!-- <footer class="footer">
        <div class="container">
            <div class="content has-text-centered">
                <a class="icon-link" href="static/Decorate3D.pdf">
                    <i class="fas fa-file-pdf"></i>
                </a>
                <a class="icon-link" href="https://github.com/daveredrum" class="external-link" disabled>
                    <i class="fab fa-github"></i>
                </a>
            </div>
            <div class="columns is-centered">
                <div class="column is-8">
                    <div class="content">
                        <p style="text-align:center">
                            Source code mainly borrowed from <a href="https://niessnerlab.org/members/yawar_siddiqui/profile.html">Yawar Siddiqui</a>'s <a
                                href="https://nihalsid.github.io/texturify/">Texturify website</a>.
                        </p>
                        <p style="text-align:center">
                        </p>

                    </div>
                </div>
            </div>
        </div>
    </footer> -->

    <!-- Import maps polyfill -->
    <!-- Remove this when import maps will be widely supported -->
    <script async src="https://unpkg.com/es-module-shims@1.3.6/dist/es-module-shims.js"></script>

    <script type="importmap">
        {
            "imports": {
                "three": "./js/three.module.js"
            }
        }
    </script>

    <script type="module">

        import * as THREE from 'three';

        import { PLYLoader } from './js/PLYLoader.js';
        import { OBJLoader } from './js/OBJLoader.js';
        import { MTLLoader } from './js/MTLLoader.js';
        import { OrbitControls } from './js/OrbitControls.js'
        let div_to_scene = {
            "shoesbamboo": {},
            "Fairyhouse": {},
            // "knightarmor":{},
            
        };
        let div_camera = {
            "shoesbamboo": null,
            "Fairyhouse": null,
            // "knightarmor":null,
        };
        
        let mouse_button_down = false;
        let list_of_orbit_controls = []
        let style_camera = null;
        let render_colors = true;
        let style_id = "0"

        function setup_camera(div_name){
            let container = document.getElementById(div_name);
            let width = container.parentElement.clientWidth;
            let height = container.parentElement.clientHeight;
            console.log(width, height)
            let camera = new THREE.PerspectiveCamera( 35, width / height, 0.1, 50 );
            let camera_init_position = new THREE.Vector3( -1, 0.5, 4 );
            if (div_name.includes("shoesbamboo")){
                camera_init_position = new THREE.Vector3( -1, 0.5, 2.5 );
            }
            if (div_name.includes("knightarmor")){
                camera_init_position = new THREE.Vector3( -1, 0.5, 0.5);
            }
            // else if (div_name.includes("backpack")) {
            //     camera_init_position = new THREE.Vector3( -1.5, 0.5, 1.5 );
            // }
            camera.position.set(camera_init_position.x, camera_init_position.y, camera_init_position.z);

            return camera;
        }

        function setup_render_divs(div_name, obj_name, obj_path, mtl_path, texture_path){
            if (div_camera[obj_name] == null) {
                div_camera[obj_name] = setup_camera(div_name)
            }
            
            let orbit_control = create_render_div(div_camera[obj_name], div_name, obj_name, obj_path, mtl_path, texture_path)
            list_of_orbit_controls.push(orbit_control)
        }

        function create_render_div(camera, div_id, obj_name, obj_path, mtl_path, texture_path) {
            let container;
            let renderer, controls;

            init();
            animate();

            function init() {

                container = document.getElementById(div_id);
                let width = container.parentElement.clientWidth;
                let height = container.parentElement.clientHeight;


                div_to_scene[obj_name][div_id] = new THREE.Scene();
                div_to_scene[obj_name][div_id].background = new THREE.Color( 0xffffff );

                // ObJ file

                const objLoader  = new OBJLoader();
                const textureLoader = new THREE.TextureLoader();
                const mtlLoader = new MTLLoader();

                mtlLoader.load(mtl_path, function ( materials ) {
                    materials.preload();
                    objLoader
                        .setMaterials( materials )
                        .load( obj_path, function ( object ) {
                            textureLoader
                                .load( texture_path, function ( texture ) {
                                    object.traverse (function ( child ) {
                                        if ( child instanceof THREE.Mesh ) {
                                            child.material.map = texture;
                                        }
                                    });

                                    div_to_scene[obj_name][div_id].add( object );
                                });
                        });
                });

                div_to_scene[obj_name][div_id].add( new THREE.HemisphereLight( 0x333333, 0x222222 ) );
                addShadowedLight(div_to_scene[obj_name][div_id], 1, 1, 1, 0xffffff, 1 );
                addShadowedLight(div_to_scene[obj_name][div_id],  -1, -1, - 1, 0xffffff, 0.5 );

                // renderer

                renderer = new THREE.WebGLRenderer( { antialias: true } );
                renderer.setPixelRatio( window.devicePixelRatio );
                renderer.setSize( width, height);
                renderer.outputEncoding = THREE.sRGBEncoding;

                renderer.shadowMap.enabled = true;

                container.appendChild( renderer.domElement );

                controls = new OrbitControls(camera, renderer.domElement)
                controls.enableDamping = false

                // resize

                window.addEventListener( 'resize', onWindowResize );

        }
            function onWindowResize() {
                let width = container.clientWidth;
                let height = container.clientHeight;
                camera.aspect = width / height;
                camera.updateProjectionMatrix();
                renderer.setSize( width, height );
            }
            function animate() {
                requestAnimationFrame( animate );
                render();
            }

            function render() {
                renderer.render( div_to_scene[obj_name][div_id], camera );
                controls.update();
            }

            return controls;
        }

        function addShadowedLight(scene, x, y, z, color, intensity ) {

            const directionalLight = new THREE.DirectionalLight( color, intensity );
            directionalLight.position.set( x, y, z );
            scene.add( directionalLight );

            directionalLight.castShadow = true;

            const d = 1;
            directionalLight.shadow.camera.left = - d;
            directionalLight.shadow.camera.right = d;
            directionalLight.shadow.camera.top = d;
            directionalLight.shadow.camera.bottom = - d;

            directionalLight.shadow.camera.near = 1;
            directionalLight.shadow.camera.far = 4;

            directionalLight.shadow.mapSize.width = 1024;
            directionalLight.shadow.mapSize.height = 1024;

            directionalLight.shadow.bias = - 0.001;

        }

        document.addEventListener('keydown', logKey);

        function logKey(evt) {
            if (evt.keyCode === 82 && !mouse_button_down) {
                reset_orbit_controls()
            }
        }

        function reset_orbit_controls() {
            list_of_orbit_controls.forEach(oc => {
                oc.reset()
            })
        }

        document.body.onmousedown = function(evt) {
            if (evt.button === 0)
                mouse_button_down = true
        }
        document.body.onmouseup = function(evt) {
            if (evt.button === 0)
                mouse_button_down = false
        }

        window.onload = function() {
            let slider = document.getElementsByClassName("slider")[0]
            slider.removeAttribute("tabIndex")
            // slider.addEventListener("mouseout", reset_orbit_controls);

            // const qualitative = ["compass", "ambulance", "backpack", "dumpster"];
            const qualitative = ["shoesbamboo","Fairyhouse"];

            qualitative.forEach(element => {
                setup_render_divs(element+"_original", element,
                './samples/qualitative/'+element+'/original/mesh.obj', 
                './samples/qualitative/'+element+'/original/mesh.mtl', 
                './samples/qualitative/'+element+'/original/texture.png'
                );
                setup_render_divs(element+"_clipmesh", element,
                    './samples/qualitative/'+element+'/clipmesh/mesh.obj', 
                    './samples/qualitative/'+element+'/clipmesh/mesh.mtl', 
                    './samples/qualitative/'+element+'/clipmesh/texture.png'
                );
                setup_render_divs(element+"_latentpaint", element,
                    './samples/qualitative/'+element+'/latentpaint/mesh.obj', 
                    './samples/qualitative/'+element+'/latentpaint/mesh.mtl', 
                    './samples/qualitative/'+element+'/latentpaint/texture.png'
                );
                setup_render_divs(element+"_texture", element,
                    './samples/qualitative/'+element+'/texture/mesh.obj', 
                    './samples/qualitative/'+element+'/texture/mesh.mtl', 
                    './samples/qualitative/'+element+'/texture/texture.png'
                );
                setup_render_divs(element+"_ours", element,
                    './samples/qualitative/'+element+'/ours/mesh.obj', 
                    './samples/qualitative/'+element+'/ours/mesh.mtl', 
                    './samples/qualitative/'+element+'/ours/texture.png'
                );
            });
            
        };

    </script>
</body>

</html>
